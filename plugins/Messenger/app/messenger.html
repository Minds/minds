<div class="m-messenger-bar">
  <div class="m-messenger-conversations-wrappers">
    <minds-messenger-conversation-dockpanes>

      <minds-messenger-dockpane [style.right]="0">
        <div class="m-messenger-userlist m-messenger-dockpane mdl-shadow--4dp" [class.m-messenger-dockpane-open]="userListToggle">
          <div class="m-messenger-dockpane-tab mdl-color-text--blue-grey-700" (click)="toggle()">
            <div class="m-messenger-dockpane-tab-title"><i class="material-icons">chat_bubble</i><span>Messenger</span></div>
            <div class="m-messenger-dockpane-tab-actions">
              <i class="material-icons">settings</i>
            </div>
          </div>
          <div class="m-messenger-dockpane-container mdl-shadow--2dp">
            <div class="m-messenger-userlist-search">
              <i class="material-icons">search</i>
              <input type="text" placeholder="search" #q (keydown)="search(q);">
            </div>
            <div class="m-messenger-userlist-conversations">
              <div class="m-messenger-userlist-conversations-item"
              [hidden]="inProgress"
              *ngFor="#conversation of conversations"
              (click)="openConversation(conversation)">
                <!-- This is currently only configured for one-on-one chat -->
                <img [src]="minds.cdn_url + 'icon/' + conversation.guid" class="mdl-shadow--2dp">
                <span class="m-conversation-label">{{conversation.username}}</span>
                <span class="m-conversation-online" [hidden]="!conversation.online"></span>
              </div>
              <div [hidden]="!inProgress" style="width:100%; text-align:center; ">
                <div class="mdl-spinner mdl-js-spinner is-active" [mdl] style="margin: 16px auto;"></div>
              </div>
            </div>
          </div>
        </div>
      </minds-messenger-dockpane>

    </minds-messenger-conversation-dockpanes>
  </div>
</div>
