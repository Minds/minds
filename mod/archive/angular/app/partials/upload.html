<form novalidate name="itemsForm" class="uploadList">
	
	<!-- Show initially -->
	<div id="dropzone" class="uploader-bar span8 well well-large" ng-class="status">
			<span class="entypo">&#128228;</span>
			
			
			<div class="form-span">
				
				<div ng-hide="uploading">
					
					<h3> Drag files here </h3>
				
					<p class="or">-- or --</p>
				</div>
				
				<div class="album-selector">
					<div class="minds-buttom-album  elgg-button" ng-click="clickAlbum = !clickAlbum">
						{{getAlbum().title}}
					</div>
					<div class="album-selections" ng-show="clickAlbum">
						<input type="text" placeholder="new album..." ng-change="createAlbum()" ng-model="albums.newInput"/>
						<li ng-repeat="album in albums" data-guid="{{album.guid}}" ng-click="selectAlbum(album.guid)">
							{{album.title}}
						</li>
					</div>
				</div>
				
				<div class="elgg-button elgg-button-action elgg-button-upload"> <span>Click to open selector.</span>
					<input id="fileupload" type="file" name="fileData"  multiple="" accept="audio/*,video/*,image/*" />
				</div>
				
				<select name="license" id="license" class="elgg-input-dropdown default-license-input" ng-options="license.value as license.text for license in licenses" ng-model="default_license" ng-change="setDefaultLicense()"></select>
				
				<div class="minds-buttom-save  elgg-button" ng-click="complete()" >
						Done!
				</div>
				
				<div class="upload-stats"> 
					<div class="text">{{completed}} / {{total()}} uploaded</div>
				</div>
				
				<div class="progress">
					<div class="bar p{{(completed / total() ) * 100}}" ng-style="{width: (completed / total()) * 100 + '%'}"></div>
				</div>
			</div>
	</div>

	<ul class="elgg-list elgg-list-entity mason">

		<li class="elgg-item" ng-repeat="file in files" id="-{{file.guid}}">

			<table>
					<tr>
						<td>Title:</td>
						<td>
							<input required type="text" name='name' class="elgg-input-text" ng-model="file.title" placeholder="Enter titleâ€¦" ng-change="changed(file.guid)"/>
						</td>
					</tr>
					<tr>
						<td>License:</td>
						<td>
							<select required name="license" id="license" class="elgg-input-dropdown uploadSelect" ng-options="license.value as license.text for license in licenses" ng-model="file.license" ng-change="changed(file.guid)">
							</select>
						</td>
					</tr>

			</table>
			<div ng-switch="file.fileType" class="image-thumbnail">
				<img ng-switch-when="image" class="preview" ng-src="{{file.thumb}}"/>
				<div ng-switch-when="video" ng-show="file.guid">
					<p> Your video has been uploaded and is now being transcoded </p>
				</div>

			</div>
			
			<div class="progress">
					<div class="bar p{{file.progress}}" ng-style="{width: file.progress + '%'}"></div>
			</div>
			
		</li>

	</ul>
		
	<div style="display:none;" id="album-create-wrapper">
		<input type="text" placeholder="Album title"  ng-model="albumName"/>
		<a class="elgg-button elgg-button-action" ng-click="createAlbum($index)">Create</a>
	</div>
</form>
