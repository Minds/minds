<div class="mdl-grid newsfeed-grid" style="max-width:900px">
  <div class="mdl-cell mdl-cell--4-col">
    <div>
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label minds-gatherings-search" [mdl]>
        <input class="mdl-textfield__input" type="text" id="sample3" (keyup)="doneTyping($event)" />
        <label class="mdl-textfield__label" for="sample3"><i class="material-icons">search</i> Search users...</label>
      </div>
    </div>

    <div style="height: 300px; overflow-y: scroll;">
      <div  class="mdl-grid mdl-shadow--2dp" *ng-for="#conversation of conversations" >
        <div class="mdl-cell mdl-cell--12-col minds-gatherings-ownerblock">
          <div class="minds-avatar">
            <a  [router-link]="['/messenger', {guid: conversation.guid}]" class="">
              <img src="{{minds.cdn_url}}/icon/{{conversation.guid}}/small" class="mdl-shadow--2dp" alt={{conversation.username}} title={{conversation.username}}>
            </a>
          </div>
          <div class="minds-body">
            <a [router-link]="['/messenger', {guid: conversation.guid}]" class="mdl-color-text--blue-grey-500 ng-binding">
              {{conversation.username}}
            </a>
            <span>{{conversation.last_msg * 1000 | date:'shortTime'}} - {{conversation.last_msg * 1000 | date:'longDate'}}</span>
          </div>
        </div>
      </div>

      <infinite-scroll
      distance="25%"
      (load)="load()"
      *ng-if="hasMoreData"
      />
      <div class="mdl-spinner mdl-js-spinner is-active" [mdl] [hidden]="!inProgress"></div>
    </div>
  </div>

  <div class="mdl-cell mdl-cell--8-col" >
    <minds-messenger-setup *ng-if="!setup"></minds-messenger-setup>
    <minds-messenger-conversation *ng-if="setup"></minds-messenger-conversation>
  </div>
</div>
